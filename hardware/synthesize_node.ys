# Yosys synthesis script for node module
# Using Sky130 PDK library

# Read the Verilog file
read_verilog node.v

# Set the top module
hierarchy -top node

# Flatten the design
flatten

# Convert to gate-level netlist
techmap

# Map to the Sky130 PDK
abc -liberty hardware/process_lib/sky130_fd_sc_hd__ff_n40C_1v65.lib

# Clean up
clean

# Write the synthesized netlist
write_verilog -noattr node_synth.v

# Generate a report
tee -o synthesis_report.txt stat 